{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/DOUGLAS FALL 2020/CSIS 4495 Applied  Research Project/Full_Stack_Project/frontend-app/src/components/LoginPage/LoginPage.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { loginUser } from \"../../_actions/user_actions\";\nimport { Link } from \"react-router-dom\";\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      errors: []\n    };\n\n    this.dispalyErrors = errors => errors.map((error, i) => /*#__PURE__*/React.createElement(\"p\", {\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 56\n      }\n    }, error));\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.submitForm = event => {\n      event.preventDefault();\n      let dataToSubmit = {\n        email: this.state.email,\n        password: this.state.password\n      };\n\n      if (this.isFormvalid(this.state)) {\n        this.setState({\n          errors: []\n        });\n        this.props.dispatch(loginUser(dataToSubmit)).then(response => {\n          if (response.payload.loginSuccess) {\n            this.props.history.push(\"/\");\n          } else {\n            this.setState({\n              errors: this.state.errors.concat(\"Failed to log in, you can check your Email and password\")\n            });\n          }\n        });\n      } else {\n        this.setState({\n          errors: this.state.errors.concat(\"Form is not valid\")\n        });\n      }\n    };\n\n    this.isFormvalid = ({\n      email,\n      password\n    }) => email && password;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"col s12\",\n      onSubmit: event => this.submitForm(event),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-field col s12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      name: \"email\",\n      value: this.state.email,\n      onChange: e => this.handleChange(e),\n      id: \"email\",\n      type: \"email\",\n      className: \"validate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"helper-text\",\n      \"data-error\": \"Type a right type email\",\n      \"data-succeuss\": \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-field col s12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      name: \"password\",\n      value: this.state.password,\n      onChange: e => this.handleChange(e),\n      id: \"password\",\n      type: \"password\",\n      className: \"validate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"helper-text\",\n      \"data-error\": \"wrong\",\n      \"data-succeuss\": \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }\n    }))), this.state.errors.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 15\n      }\n    }, this.dispalyErrors(this.state.errors)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col s12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn waves-effect red lighten-2\",\n      type: \"submit\",\n      name: \"action\",\n      onClick: this.submitForm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }\n    }, \"Login\"), \" \", \"\\xA0 \\xA0\", /*#__PURE__*/React.createElement(Link, {\n      to: \"/register\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn waves-effect red lighten-2\",\n      type: \"submit\",\n      name: \"action\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }\n    }, \"Sign up\")))))));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user\n  };\n}\n\nexport default connect(mapStateToProps)(Login);","map":{"version":3,"sources":["/Users/mac/Desktop/DOUGLAS FALL 2020/CSIS 4495 Applied  Research Project/Full_Stack_Project/frontend-app/src/components/LoginPage/LoginPage.js"],"names":["React","Component","connect","loginUser","Link","Login","state","email","password","errors","dispalyErrors","map","error","i","handleChange","event","setState","target","name","value","submitForm","preventDefault","dataToSubmit","isFormvalid","props","dispatch","then","response","payload","loginSuccess","history","push","concat","render","e","length","mapStateToProps","user"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { loginUser } from \"../../_actions/user_actions\";\nimport { Link } from \"react-router-dom\";\n\nclass Login extends Component {\n  state = {\n    email: \"\",\n    password: \"\",\n    errors: [],\n  };\n\n  dispalyErrors = (errors) => errors.map((error, i) => <p key={i}>{error}</p>);\n\n  handleChange = (event) => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  submitForm = (event) => {\n    event.preventDefault();\n\n    let dataToSubmit = {\n      email: this.state.email,\n      password: this.state.password,\n    };\n\n    if (this.isFormvalid(this.state)) {\n      this.setState({ errors: [] });\n\n      this.props.dispatch(loginUser(dataToSubmit)).then((response) => {\n        if (response.payload.loginSuccess) {\n          this.props.history.push(\"/\");\n        } else {\n          this.setState({\n            errors: this.state.errors.concat(\n              \"Failed to log in, you can check your Email and password\"\n            ),\n          });\n        }\n      });\n    } else {\n      this.setState({\n        errors: this.state.errors.concat(\"Form is not valid\"),\n      });\n    }\n  };\n\n  isFormvalid = ({ email, password }) => email && password;\n\n  render() {\n    return (\n      <div className=\"container\">\n        <h2>Login</h2>\n        <div className=\"row\">\n          <form\n            className=\"col s12\"\n            onSubmit={(event) => this.submitForm(event)}\n          >\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <input\n                  name=\"email\"\n                  value={this.state.email}\n                  onChange={(e) => this.handleChange(e)}\n                  id=\"email\"\n                  type=\"email\"\n                  className=\"validate\"\n                />\n                <label htmlFor=\"email\">Email</label>\n                <span\n                  className=\"helper-text\"\n                  data-error=\"Type a right type email\"\n                  data-succeuss=\"right\"\n                />\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <input\n                  name=\"password\"\n                  value={this.state.password}\n                  onChange={(e) => this.handleChange(e)}\n                  id=\"password\"\n                  type=\"password\"\n                  className=\"validate\"\n                />\n                <label htmlFor=\"password\">Password</label>\n                <span\n                  className=\"helper-text\"\n                  data-error=\"wrong\"\n                  data-succeuss=\"right\"\n                />\n              </div>\n            </div>\n\n            {this.state.errors.length > 0 && (\n              <div>{this.dispalyErrors(this.state.errors)}</div>\n            )}\n\n            <div className=\"row\">\n              <div className=\"col s12\">\n                <button\n                  className=\"btn waves-effect red lighten-2\"\n                  type=\"submit\"\n                  name=\"action\"\n                  onClick={this.submitForm}\n                >\n                  Login\n                </button>{\" \"}\n                &nbsp; &nbsp;\n                <Link to=\"/register\">\n                <button\n                  className=\"btn waves-effect red lighten-2\"\n                  type=\"submit\"\n                  name=\"action\"\n                >\n                  Sign up\n                </button>\n                </Link>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.user,\n  };\n}\n\nexport default connect(mapStateToProps)(Login);\n"]},"metadata":{},"sourceType":"module"}