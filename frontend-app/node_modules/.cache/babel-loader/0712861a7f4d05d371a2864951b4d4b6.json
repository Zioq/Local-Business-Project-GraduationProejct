{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/DOUGLAS FALL 2020/CSIS 4495 Applied  Research Project/Full_Stack_Project/frontend-app/src/components/RegisterPage/RegisterPage.js\";\nimport React, { Component } from \"react\";\nimport { registerUser } from \"../../_actions/user_actions\";\nimport { connect } from \"react-redux\";\nexport class Register extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      lastname: \"\",\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      passwordConfirmation: \"\",\n      errors: []\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.dispalyErrors = errors => errors.map((error, i) => /*#__PURE__*/React.createElement(\"p\", {\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 56\n      }\n    }, error));\n\n    this.isFormValid = () => {\n      let errors = [];\n      let error;\n\n      if (this.isFormEmpty(this.state)) {\n        error = {\n          message: \"Fill in all fields\"\n        };\n        this.setState({\n          errors: errors.concat(error)\n        });\n      } else if (!this.isPasswordValid(this.state)) {\n        error = {\n          message: \"Password is invalid\"\n        };\n        this.setState({\n          errors: errors.concat(error)\n        });\n      } else {\n        return true;\n      }\n    };\n\n    this.isPasswordValid = ({\n      password,\n      passwordConfirmation\n    }) => {\n      if (password.length > 6 || passwordConfirmation.length > 6) {\n        return false;\n      } else if (password !== passwordConfirmation) {\n        return false;\n      } else {\n        return true;\n      }\n    };\n\n    this.isFormEmpty = ({\n      lastname,\n      name,\n      email,\n      password,\n      passwordConfirmation\n    }) => {\n      return !name.length || !lastname.length || !email.length || !password.length || !passwordConfirmation.length;\n    };\n\n    this.submitForm = event => {\n      event.preventDefault();\n      let dataToSubmit = {\n        email: this.state.email,\n        name: this.state.name,\n        lastname: this.state.lastname,\n        password: this.state.password,\n        passwordConfirmation: this.state.passwordConfirmation\n      };\n      console.log(dataToSubmit);\n\n      if (this.isFormValid()) {\n        this.setState({\n          errors: []\n        });\n        this.props.dispatch(registerUser(dataToSubmit)).then(response => {\n          console.log(response);\n\n          if (response.payload.success) {\n            this.props.history.push('/login');\n          } else {\n            this.setState({\n              errors: this.state.errors.concat(\"You attemp to send data to DB was failed\")\n            });\n          }\n        }).catch(err => {\n          this.setState({\n            errors: this.state.errors.concat(err)\n          });\n        });\n      } else {\n        console.log(\"Form is invalid\");\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }\n    }, \"Sign Up\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"col s12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-field col s12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      name: \"lastname\",\n      value: this.state.lastname,\n      onChange: e => this.handleChange(e),\n      id: \"lastname\",\n      type: \"text\",\n      className: \"validate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"active\",\n      htmlFor: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }\n    }, \"lastname\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"helper-text\",\n      \"data-error\": \"Type a right type email\",\n      \"data-succeuss\": \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-field col s12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      name: \"name\",\n      value: this.state.name,\n      onChange: e => this.handleChange(e),\n      id: \"name\",\n      type: \"text\",\n      className: \"validate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"active\",\n      htmlFor: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }\n    }, \"name\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"helper-text\",\n      \"data-error\": \"wrong\",\n      \"data-succeuss\": \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-field col s12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      name: \"email\",\n      value: this.state.email,\n      onChange: e => this.handleChange(e),\n      id: \"email\",\n      type: \"email\",\n      className: \"validate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"active\",\n      htmlFor: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }\n    }, \"email\"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"helper-text\",\n      \"data-error\": \"wrong\",\n      \"data-succeuss\": \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-field col s12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      name: \"password\",\n      value: this.state.password,\n      onChange: e => this.handleChange(e),\n      id: \"password\",\n      type: \"password\",\n      className: \"validate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"active\",\n      htmlFor: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }\n    }, \"Password\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-field col s12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      name: \"passwordConfirmation\",\n      value: this.state.passwordConfirmation,\n      onChange: e => this.handleChange(e),\n      id: \"password\",\n      type: \"password\",\n      className: \"validate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"active\",\n      htmlFor: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 17\n      }\n    }, \"Password Confirmation\"))), this.state.errors.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 15\n      }\n    }, this.dispalyErrors(this.state.errors)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col s12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn waves-effect red lighten-2\",\n      type: \"submit\",\n      name: \"action\",\n      onClick: this.submitForm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 17\n      }\n    }, \"Create an account\"), \" \", \"\\xA0 \\xA0\")))));\n  }\n\n}\nexport default connect()(Register);","map":{"version":3,"sources":["/Users/mac/Desktop/DOUGLAS FALL 2020/CSIS 4495 Applied  Research Project/Full_Stack_Project/frontend-app/src/components/RegisterPage/RegisterPage.js"],"names":["React","Component","registerUser","connect","Register","state","lastname","name","email","password","passwordConfirmation","errors","handleChange","event","setState","target","value","dispalyErrors","map","error","i","isFormValid","isFormEmpty","message","concat","isPasswordValid","length","submitForm","preventDefault","dataToSubmit","console","log","props","dispatch","then","response","payload","success","history","push","catch","err","render","e"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {registerUser} from \"../../_actions/user_actions\";\nimport { connect } from \"react-redux\";\n\n\nexport class Register extends Component {\n  state = {\n    lastname: \"\",\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    passwordConfirmation: \"\",\n    errors: [],\n  };\n\n  handleChange = (event) => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  dispalyErrors = (errors) => errors.map((error, i) => <p key={i}>{error}</p>);\n\n  isFormValid = () => {\n    let errors = [];\n    let error;\n\n    if (this.isFormEmpty(this.state)) {\n      error = { message: \"Fill in all fields\" };\n      this.setState({ errors: errors.concat(error) });\n    } else if (!this.isPasswordValid(this.state)) {\n      error = { message: \"Password is invalid\" };\n      this.setState({ errors: errors.concat(error) });\n    } else {\n      return true;\n    }\n  };\n\n  isPasswordValid = ({ password, passwordConfirmation }) => {\n    if (password.length > 6 || passwordConfirmation.length > 6) {\n      return false;\n    } else if (password !== passwordConfirmation) {\n      return false;\n    } else {\n      return true;\n    }\n  };\n\n  isFormEmpty = ({ lastname, name, email, password, passwordConfirmation }) => {\n    return (\n      !name.length ||\n      !lastname.length ||\n      !email.length ||\n      !password.length ||\n      !passwordConfirmation.length\n    );\n  };\n\n  submitForm = (event) => {\n    event.preventDefault();\n    let dataToSubmit = {\n      email: this.state.email,\n      name: this.state.name,\n      lastname: this.state.lastname,\n      password: this.state.password,\n      passwordConfirmation: this.state.passwordConfirmation,\n    };\n    console.log(dataToSubmit);\n\n    if (this.isFormValid()) {\n      this.setState({ errors: [] });\n      this.props.dispatch(registerUser(dataToSubmit))\n      .then(response => {\n        console.log(response);\n            \n          if(response.payload.success) {\n            this.props.history.push('/login')\n          }else {\n            this.setState({errors:this.state.errors.concat(\"You attemp to send data to DB was failed\")})\n          }\n          \n      })\n      .catch(err => {\n          this.setState({errors:this.state.errors.concat(err)})\n      })\n    } else {\n        console.log(\"Form is invalid\");\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"container\">\n        <h2>Sign Up</h2>\n        <div className=\"row\">\n          <form className=\"col s12\">\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <input\n                  name=\"lastname\"\n                  value={this.state.lastname}\n                  onChange={(e) => this.handleChange(e)}\n                  id=\"lastname\"\n                  type=\"text\"\n                  className=\"validate\"\n                />\n                <label className=\"active\" htmlFor=\"email\">\n                  lastname\n                </label>\n                <span\n                  className=\"helper-text\"\n                  data-error=\"Type a right type email\"\n                  data-succeuss=\"right\"\n                />\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <input\n                  name=\"name\"\n                  value={this.state.name}\n                  onChange={(e) => this.handleChange(e)}\n                  id=\"name\"\n                  type=\"text\"\n                  className=\"validate\"\n                />\n                <label className=\"active\" htmlFor=\"password\">name</label>\n                <span\n                  className=\"helper-text\"\n                  data-error=\"wrong\"\n                  data-succeuss=\"right\"\n                />\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <input\n                  name=\"email\"\n                  value={this.state.email}\n                  onChange={(e) => this.handleChange(e)}\n                  id=\"email\"\n                  type=\"email\"\n                  className=\"validate\"\n                />\n                <label className=\"active\" htmlFor=\"email\">\n                  email\n                </label>\n                <span\n                  className=\"helper-text\"\n                  data-error=\"wrong\"\n                  data-succeuss=\"right\"\n                />\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <input\n                  name=\"password\"\n                  value={this.state.password}\n                  onChange={(e) => this.handleChange(e)}\n                  id=\"password\"\n                  type=\"password\"\n                  className=\"validate\"\n                />\n                <label className=\"active\" htmlFor=\"password\">\n                  Password\n                </label>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <div className=\"input-field col s12\">\n                <input\n                  name=\"passwordConfirmation\"\n                  value={this.state.passwordConfirmation}\n                  onChange={(e) => this.handleChange(e)}\n                  id=\"password\"\n                  type=\"password\"\n                  className=\"validate\"\n                />\n                <label className=\"active\" htmlFor=\"password\">\n                  Password Confirmation\n                </label>\n              </div>\n            </div>\n\n            {this.state.errors.length > 0 && (\n              <div>{this.dispalyErrors(this.state.errors)}</div>\n            )}\n\n            <div className=\"row\">\n              <div className=\"col s12\">\n                <button\n                  className=\"btn waves-effect red lighten-2\"\n                  type=\"submit\"\n                  name=\"action\"\n                  onClick={this.submitForm}\n                >\n                  Create an account\n                </button>{\" \"}\n                &nbsp; &nbsp;\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\n\nexport default connect()(Register);\n"]},"metadata":{},"sourceType":"module"}