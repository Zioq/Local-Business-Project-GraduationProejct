{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/DOUGLAS FALL 2020/CSIS 4495 Applied  Research Project/Full_Stack_Project/frontend-app/src/components/reservationListPage/ReservationListManagementPage.js\";\nimport React, { useEffect, useState } from 'react';\nimport axios from \"axios\";\nimport \"./reservationListPage.css\";\nimport { Button } from \"antd\";\n\nfunction ReservationListManagementPage() {\n  const [ReservationList, setReservationList] = useState([]); // Get the reservation list Data\n\n  useEffect(() => {\n    fecthReservationList();\n  }, []);\n\n  const fecthReservationList = () => {\n    axios.post(\"/api/makereservation/list\").then(response => {\n      if (response.data.success) {\n        console.log(response.data);\n        setReservationList(response.data.info);\n      } else {\n        alert(\"Failed to get the response data \");\n      }\n    });\n  };\n\n  const cancelReservation = reservationId => {\n    const body = {\n      _id: reservationId\n    };\n    axios.post('/api/makereservation/cancel', body).then(response => {\n      if (response.data.success) {\n        console.log(response.data);\n        fecthReservationList();\n      } else {\n        alert(\"Failed to get the response\");\n      }\n    });\n  };\n\n  const renderTableBody = ReservationList.map((reservation, index) => {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }\n    }, reservation.tableName), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }\n    }, reservation.reservationTime, \"( Pm)\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }\n    }, reservation.customerName), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      size: \"large\",\n      shape: \"round\",\n      type: \"danger\",\n      onClick: () => cancelReservation(reservation._id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }\n    }, \"Cancel the reservation\")));\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"85%\",\n      margin: '3rem auto'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, \"Today Reservation List\"), /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, \"Table Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, \"Reservation Time\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, \"Customer Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, \"Cancel the reservation\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, renderTableBody)));\n}\n\nexport default ReservationListManagementPage;","map":{"version":3,"sources":["/Users/mac/Desktop/DOUGLAS FALL 2020/CSIS 4495 Applied  Research Project/Full_Stack_Project/frontend-app/src/components/reservationListPage/ReservationListManagementPage.js"],"names":["React","useEffect","useState","axios","Button","ReservationListManagementPage","ReservationList","setReservationList","fecthReservationList","post","then","response","data","success","console","log","info","alert","cancelReservation","reservationId","body","_id","renderTableBody","map","reservation","index","tableName","reservationTime","customerName","width","margin"],"mappings":"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","sourcesContent":["import React,{ useEffect, useState} from 'react';\nimport axios from \"axios\";\nimport \"./reservationListPage.css\";\nimport {Button} from \"antd\";\n\nfunction ReservationListManagementPage() {\n\n    const [ReservationList, setReservationList] = useState([]);\n\n    // Get the reservation list Data\n    useEffect(()=>{\n        fecthReservationList();\n    },[]);\n\n    const fecthReservationList = ()=> {\n\n        axios.post(\"/api/makereservation/list\")\n        .then(response=>{\n            if(response.data.success) {\n                console.log(response.data);\n                setReservationList(response.data.info);\n\n            }else {\n                alert(\"Failed to get the response data \");\n            }\n        });\n\n    }\n\n    const cancelReservation = (reservationId) => {\n        const  body ={_id: reservationId}\n        axios.post('/api/makereservation/cancel',body)\n        .then(response=> {\n            if(response.data.success) {\n                console.log(response.data);\n                fecthReservationList();\n            }else {\n                alert(\"Failed to get the response\");\n            }\n        });\n\n    } \n\n    const renderTableBody = ReservationList.map((reservation,index)=>{\n        return (\n            <tr key={index}>\n                <td>{reservation.tableName}</td>\n                <td>{reservation.reservationTime}( Pm)</td>\n                <td>{reservation.customerName}</td>\n                <td><Button size=\"large\" shape=\"round\" type=\"danger\" onClick={()=>cancelReservation(reservation._id)}>Cancel the reservation</Button></td>\n\n            </tr>\n        )\n    })\n\n    return (\n        <div style={{width:\"85%\", margin: '3rem auto'}}>\n        <h3>Today Reservation List</h3>\n        \n        <table>\n            <thead>\n            <tr>\n                <th>Table Name</th>\n                <th>Reservation Time</th>\n                <th>Customer Name</th>\n                <th>Cancel the reservation</th>\n            </tr>\n            </thead>\n            <tbody>\n                {renderTableBody}\n            </tbody>\n        </table>\n        </div>\n    )\n}\n\nexport default ReservationListManagementPage\n"]},"metadata":{},"sourceType":"module"}