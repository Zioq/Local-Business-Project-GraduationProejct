{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/DOUGLAS FALL 2020/CSIS 4495 Applied  Research Project/Full_Stack_Project/frontend-app/src/components/ReservationPage2/section/TableInfo.js\";\nimport React, { useState } from \"react\";\nimport { Button, Descriptions, Typography, Input } from \"antd\";\nimport axios from \"axios\";\nconst {\n  Title\n} = Typography;\nconst {\n  TextArea\n} = Input;\n\nfunction TableInfo(props) {\n  const [NameValue, setNameValue] = useState(\"\");\n  const [PhoneValue, setPhoneValue] = useState(\"\");\n  const [SpecialValue, setSpecialValue] = useState(\"\");\n\n  const onNameChange = event => {\n    setNameValue(event.currentTarget.value);\n  };\n\n  const onPhoneNumberChange = event => {\n    setPhoneValue(event.currentTarget.value);\n  };\n\n  const onSpecialChange = event => {\n    setSpecialValue(event.currentTarget.value);\n  };\n\n  const clickHandler = e => {\n    e.preventDefault();\n\n    if (!NameValue || !PhoneValue) {\n      return alert(\"Please fill up the reservation information\");\n    } //send filled out data to server by request\n\n\n    const body = {\n      customerName: NameValue,\n      customerPhone: PhoneValue,\n      specialOrder: SpecialValue,\n      tableId: props.detail._id,\n      tableName: props.detail.tableName,\n      reservationTime: props.detail.time\n    };\n    console.log(\"Body\", body);\n    const tableStatus = {\n      tableId: props.detail._id,\n      tableName: props.detail.tableName,\n      reservationTime: props.detail.time\n    };\n    axios.post(\"/api/makereservation\", body).then(response => {\n      if (response.data.success) {\n        console.log(response.data); //alert(\"Reservation Success\");\n\n        ;\n      } else {\n        alert(\"Reservation Failed\");\n      }\n    });\n    axios.put(\"/api/table/confirmReservation\", tableStatus).then(response => {\n      if (response.data.success) {\n        console.log(\"Reservation Confirm\", response.data);\n        alert(\"Reservation Success\");\n      } else {\n        alert(\"Reservation Failed\");\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Descriptions, {\n    title: \"Table Reservation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Descriptions.Item, {\n    label: \"Table Name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, props.detail.tableName, \" \"), /*#__PURE__*/React.createElement(Descriptions.Item, {\n    label: \"Reservation Time (PM)\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, props.detail.time, \" Pm\"), /*#__PURE__*/React.createElement(Descriptions.Item, {\n    label: \"Description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, props.detail.description)), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      maxWidth: \"400px\",\n      margin: \"1rem auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: \"center\",\n      marginBottom: \"1rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    level: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }, \"Make reservation\")), /*#__PURE__*/React.createElement(\"lable\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(Input, {\n    onChange: onNameChange,\n    value: NameValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"lable\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, \"Phone Number\"), /*#__PURE__*/React.createElement(Input, {\n    onChange: onPhoneNumberChange,\n    value: PhoneValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(TextArea, {\n    onChange: onSpecialChange,\n    value: SpecialValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    size: \"large\",\n    shape: \"round\",\n    type: \"danger\",\n    onClick: clickHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, \"Make a reservation\")));\n}\n\nexport default TableInfo;","map":{"version":3,"sources":["/Users/mac/Desktop/DOUGLAS FALL 2020/CSIS 4495 Applied  Research Project/Full_Stack_Project/frontend-app/src/components/ReservationPage2/section/TableInfo.js"],"names":["React","useState","Button","Descriptions","Typography","Input","axios","Title","TextArea","TableInfo","props","NameValue","setNameValue","PhoneValue","setPhoneValue","SpecialValue","setSpecialValue","onNameChange","event","currentTarget","value","onPhoneNumberChange","onSpecialChange","clickHandler","e","preventDefault","alert","body","customerName","customerPhone","specialOrder","tableId","detail","_id","tableName","reservationTime","time","console","log","tableStatus","post","then","response","data","success","put","description","maxWidth","margin","textAlign","marginBottom","display","justifyContent"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Button, Descriptions, Typography, Input } from \"antd\";\nimport axios from \"axios\";\n\nconst { Title } = Typography;\nconst { TextArea } = Input;\n\nfunction TableInfo(props) {\n  const [NameValue, setNameValue] = useState(\"\");\n  const [PhoneValue, setPhoneValue] = useState(\"\");\n  const [SpecialValue, setSpecialValue] = useState(\"\");\n\n  const onNameChange = (event) => {\n    setNameValue(event.currentTarget.value);\n  };\n  const onPhoneNumberChange = (event) => {\n    setPhoneValue(event.currentTarget.value);\n  }\n  const onSpecialChange = (event) => {\n    setSpecialValue(event.currentTarget.value);\n  }\n\n  const clickHandler = (e) => {\n      e.preventDefault();\n    if(!NameValue || !PhoneValue) {\n        return alert(\"Please fill up the reservation information\");\n    }\n\n    //send filled out data to server by request\n\n    const body = {\n        customerName:NameValue,\n        customerPhone:PhoneValue,\n        specialOrder: SpecialValue,\n        tableId:props.detail._id,\n        tableName:props.detail.tableName,\n        reservationTime:props.detail.time\n    }\n    console.log(\"Body\",body);\n\n    const tableStatus = {\n      tableId:props.detail._id,\n        tableName:props.detail.tableName,\n        reservationTime:props.detail.time\n    };\n\n\n    axios.post(\"/api/makereservation\",body)\n    .then(response => {\n      if(response.data.success) {\n        console.log(response.data);\n        //alert(\"Reservation Success\");\n        ;\n      } else {\n        alert(\"Reservation Failed\");\n      }\n    });\n\n    axios.put(\"/api/table/confirmReservation\",tableStatus)\n    .then(response=> {\n      if(response.data.success) {\n        console.log(\"Reservation Confirm\", response.data)\n        alert(\"Reservation Success\");\n      } else {\n        alert(\"Reservation Failed\");\n      }\n    })\n  };\n\n  return (\n    <div>\n      <Descriptions title=\"Table Reservation\">\n        <Descriptions.Item label=\"Table Name\">\n          {props.detail.tableName}{\" \"}\n        </Descriptions.Item>\n\n        <Descriptions.Item label=\"Reservation Time (PM)\">\n          {props.detail.time} Pm\n        </Descriptions.Item>\n        <Descriptions.Item label=\"Description\">\n          {props.detail.description}\n        </Descriptions.Item>\n      \n      </Descriptions>\n      <div style={{ maxWidth: \"400px\", margin: \"1rem auto\" }}>\n        <div style={{ textAlign: \"center\", marginBottom: \"1rem\" }}>\n          <Title level={2}>Make reservation</Title>\n        </div>\n        <lable>Name</lable>\n        <Input onChange={onNameChange} value={NameValue} />\n        <lable>Phone Number</lable>\n        <Input onChange={onPhoneNumberChange} value={PhoneValue} />\n        <TextArea onChange={onSpecialChange} value={SpecialValue} />\n        <br />\n      </div>\n      <br />\n      <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n        <Button size=\"large\" shape=\"round\" type=\"danger\" onClick={clickHandler}>\n          Make a reservation\n        </Button>\n      </div>\n    </div>\n  );\n}\n\nexport default TableInfo;\n"]},"metadata":{},"sourceType":"module"}